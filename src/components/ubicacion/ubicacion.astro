---
import "./ubicacion.css";
---

<section id="ubicacion-section">
    <!-- Decoraciones de granos de caf茅 -->
  <div class="absolute inset-0 opacity-10 pointer-events-none">
    <!-- Grano 1 - Top Left -->
    <svg class="absolute top-10 left-10 w-16 h-16 rotate-12" viewBox="0 0 512 512">
      <path fill="#d97706" d="M255.997,8.605H256c112.404,0,204.37,92.771,204.37,206.162v82.465c0,113.392-91.965,206.163-204.37,206.163h-0.003c-112.404,0-204.367-92.771-204.367-206.162v-82.465C51.63,101.376,143.592,8.605,255.997,8.605L255.997,8.605z"/>
      <path fill="#92400e" d="M460.37,214.768v82.465c0,89.303-57.049,165.802-136.193,194.28c-0.039-0.034-0.074-0.067-0.113-0.101c-22.807-20.47-70.263-63.066-72.844-65.896c-34.217-41.786-30.186-118.547,8.799-167.622c19.195-24.162,31.092-57.151,32.641-90.511c1.619-34.848-7.869-66.166-26.716-88.184c-1.509-1.763-37.565-39.773-60.742-64.104c16.255-4.235,33.277-6.489,50.796-6.489H256C368.404,8.605,460.37,101.376,460.37,214.768z"/>
    </svg>
    
    <!-- Grano 2 - Top Right -->
    <svg class="absolute top-32 right-20 w-20 h-20 -rotate-45" viewBox="0 0 512 512">
      <path fill="#d97706" d="M255.997,8.605H256c112.404,0,204.37,92.771,204.37,206.162v82.465c0,113.392-91.965,206.163-204.37,206.163h-0.003c-112.404,0-204.367-92.771-204.367-206.162v-82.465C51.63,101.376,143.592,8.605,255.997,8.605L255.997,8.605z"/>
      <path fill="#92400e" d="M460.37,214.768v82.465c0,89.303-57.049,165.802-136.193,194.28c-0.039-0.034-0.074-0.067-0.113-0.101c-22.807-20.47-70.263-63.066-72.844-65.896c-34.217-41.786-30.186-118.547,8.799-167.622c19.195-24.162,31.092-57.151,32.641-90.511c1.619-34.848-7.869-66.166-26.716-88.184c-1.509-1.763-37.565-39.773-60.742-64.104c16.255-4.235,33.277-6.489,50.796-6.489H256C368.404,8.605,460.37,101.376,460.37,214.768z"/>
    </svg>
    
    <!-- Grano 3 - Middle Left -->
    <svg class="absolute top-1/3 left-1/4 w-24 h-24 rotate-90" viewBox="0 0 512 512">
      <path fill="#d97706" d="M255.997,8.605H256c112.404,0,204.37,92.771,204.37,206.162v82.465c0,113.392-91.965,206.163-204.37,206.163h-0.003c-112.404,0-204.367-92.771-204.367-206.162v-82.465C51.63,101.376,143.592,8.605,255.997,8.605L255.997,8.605z"/>
      <path fill="#92400e" d="M460.37,214.768v82.465c0,89.303-57.049,165.802-136.193,194.28c-0.039-0.034-0.074-0.067-0.113-0.101c-22.807-20.47-70.263-63.066-72.844-65.896c-34.217-41.786-30.186-118.547,8.799-167.622c19.195-24.162,31.092-57.151,32.641-90.511c1.619-34.848-7.869-66.166-26.716-88.184c-1.509-1.763-37.565-39.773-60.742-64.104c16.255-4.235,33.277-6.489,50.796-6.489H256C368.404,8.605,460.37,101.376,460.37,214.768z"/>
    </svg>
    
    <!-- Grano 4 - Middle Right -->
    <svg class="absolute top-1/2 right-1/3 w-18 h-18 rotate-180" viewBox="0 0 512 512">
      <path fill="#d97706" d="M255.997,8.605H256c112.404,0,204.37,92.771,204.37,206.162v82.465c0,113.392-91.965,206.163-204.37,206.163h-0.003c-112.404,0-204.367-92.771-204.367-206.162v-82.465C51.63,101.376,143.592,8.605,255.997,8.605L255.997,8.605z"/>
      <path fill="#92400e" d="M460.37,214.768v82.465c0,89.303-57.049,165.802-136.193,194.28c-0.039-0.034-0.074-0.067-0.113-0.101c-22.807-20.47-70.263-63.066-72.844-65.896c-34.217-41.786-30.186-118.547,8.799-167.622c19.195-24.162,31.092-57.151,32.641-90.511c1.619-34.848-7.869-66.166-26.716-88.184c-1.509-1.763-37.565-39.773-60.742-64.104c16.255-4.235,33.277-6.489,50.796-6.489H256C368.404,8.605,460.37,101.376,460.37,214.768z"/>
    </svg>
    
    <!-- Grano 5 - Bottom Left -->
    <svg class="absolute bottom-20 left-16 w-22 h-22 -rotate-30" viewBox="0 0 512 512">
      <path fill="#d97706" d="M255.997,8.605H256c112.404,0,204.37,92.771,204.37,206.162v82.465c0,113.392-91.965,206.163-204.37,206.163h-0.003c-112.404,0-204.367-92.771-204.367-206.162v-82.465C51.63,101.376,143.592,8.605,255.997,8.605L255.997,8.605z"/>
      <path fill="#92400e" d="M460.37,214.768v82.465c0,89.303-57.049,165.802-136.193,194.28c-0.039-0.034-0.074-0.067-0.113-0.101c-22.807-20.47-70.263-63.066-72.844-65.896c-34.217-41.786-30.186-118.547,8.799-167.622c19.195-24.162,31.092-57.151,32.641-90.511c1.619-34.848-7.869-66.166-26.716-88.184c-1.509-1.763-37.565-39.773-60.742-64.104c16.255-4.235,33.277-6.489,50.796-6.489H256C368.404,8.605,460.37,101.376,460.37,214.768z"/>
    </svg>
    
    <!-- Grano 6 - Bottom Right -->
    <svg class="absolute bottom-32 right-24 w-20 h-20 rotate-45" viewBox="0 0 512 512">
      <path fill="#d97706" d="M255.997,8.605H256c112.404,0,204.37,92.771,204.37,206.162v82.465c0,113.392-91.965,206.163-204.37,206.163h-0.003c-112.404,0-204.367-92.771-204.367-206.162v-82.465C51.63,101.376,143.592,8.605,255.997,8.605L255.997,8.605z"/>
      <path fill="#92400e" d="M460.37,214.768v82.465c0,89.303-57.049,165.802-136.193,194.28c-0.039-0.034-0.074-0.067-0.113-0.101c-22.807-20.47-70.263-63.066-72.844-65.896c-34.217-41.786-30.186-118.547,8.799-167.622c19.195-24.162,31.092-57.151,32.641-90.511c1.619-34.848-7.869-66.166-26.716-88.184c-1.509-1.763-37.565-39.773-60.742-64.104c16.255-4.235,33.277-6.489,50.796-6.489H256C368.404,8.605,460.37,101.376,460.37,214.768z"/>
    </svg>
    
    <!-- Grano 7 - Center Top -->
    <svg class="absolute top-20 left-1/2 w-16 h-16 rotate-135" viewBox="0 0 512 512">
      <path fill="#d97706" d="M255.997,8.605H256c112.404,0,204.37,92.771,204.37,206.162v82.465c0,113.392-91.965,206.163-204.37,206.163h-0.003c-112.404,0-204.367-92.771-204.367-206.162v-82.465C51.63,101.376,143.592,8.605,255.997,8.605L255.997,8.605z"/>
      <path fill="#92400e" d="M460.37,214.768v82.465c0,89.303-57.049,165.802-136.193,194.28c-0.039-0.034-0.074-0.067-0.113-0.101c-22.807-20.47-70.263-63.066-72.844-65.896c-34.217-41.786-30.186-118.547,8.799-167.622c19.195-24.162,31.092-57.151,32.641-90.511c1.619-34.848-7.869-66.166-26.716-88.184c-1.509-1.763-37.565-39.773-60.742-64.104c16.255-4.235,33.277-6.489,50.796-6.489H256C368.404,8.605,460.37,101.376,460.37,214.768z"/>
    </svg>
    
    <!-- Grano 8 - Center Bottom -->
    <svg class="absolute bottom-16 left-2/3 w-18 h-18 -rotate-60" viewBox="0 0 512 512">
      <path fill="#d97706" d="M255.997,8.605H256c112.404,0,204.37,92.771,204.37,206.162v82.465c0,113.392-91.965,206.163-204.37,206.163h-0.003c-112.404,0-204.367-92.771-204.367-206.162v-82.465C51.63,101.376,143.592,8.605,255.997,8.605L255.997,8.605z"/>
      <path fill="#92400e" d="M460.37,214.768v82.465c0,89.303-57.049,165.802-136.193,194.28c-0.039-0.034-0.074-0.067-0.113-0.101c-22.807-20.47-70.263-63.066-72.844-65.896c-34.217-41.786-30.186-118.547,8.799-167.622c19.195-24.162,31.092-57.151,32.641-90.511c1.619-34.848-7.869-66.166-26.716-88.184c-1.509-1.763-37.565-39.773-60.742-64.104c16.255-4.235,33.277-6.489,50.796-6.489H256C368.404,8.605,460.37,101.376,460.37,214.768z"/>
    </svg>
  </div>
  <div class="ubicacion-container">
    <div class="ubicacion-content">
      <div class="ubicacion-info">
        <h2 class="ubicacion-title">Vis铆tanos</h2>
        <p class="ubicacion-subtitle">Estamos listos para atenderte</p>
        
        <div class="info-grid">
          <div class="info-card">
            <div class="info-icon">
              <img src="/assets/svg-iconos/cafe.svg" alt="Ubicaci贸n" width="24" height="24" />
            </div>
            <div class="info-text">
              <h3>Direcci贸n</h3>
              <p>Av. Principal 123</p>
              <p>Centro Comercial Plaza Norte</p>
              <p class="zona-ref">Zona: Centro / Ref: Frente al Banco</p>
            </div>
          </div>

          <div class="info-card">
            <div class="info-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </div>
            <div class="info-text">
              <h3>Horarios</h3>
              <div class="horarios-list">
                <div class="horario-item">
                  <span class="dia">Lunes - Viernes</span>
                  <span class="hora">7:00 AM - 9:00 PM</span>
                </div>
                <div class="horario-item">
                  <span class="dia">S谩bados</span>
                  <span class="hora">8:00 AM - 10:00 PM</span>
                </div>
                <div class="horario-item">
                  <span class="dia">Domingos</span>
                  <span class="hora">9:00 AM - 8:00 PM</span>
                </div>
              </div>
            </div>
          </div>

          <div class="info-card">
            <div class="info-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 5 7 2 12 2C17 2 21 5 21 10Z" stroke="currentColor" stroke-width="2"/>
                <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
              </svg>
            </div>
            <div class="info-text">
              <h3>Contacto</h3>
              <p> +51 999 888 777</p>
              <p> hola@esymbel.com</p>
            </div>
          </div>
        </div>
      </div>

      <div class="ubicacion-map">
        <div class="map-wrapper">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3901.9875578425!2d-77.04242!3d-12.04318!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMTLCsDAyJzM1LjQiUyA3N8KwMDInMzIuNyJX!5e0!3m2!1ses!2spe!4v1234567890"
            width="100%"
            height="100%"
            style="border:0;"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title="Ubicaci贸n ESYMBEL Cafeter铆a"
          ></iframe>
        </div>
        <div class="map-overlay">
          <a 
            href="https://maps.google.com/?q=-12.04318,-77.04242" 
            target="_blank" 
            rel="noopener noreferrer"
            class="directions-btn"
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 11L12 14L22 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 12V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            C贸mo llegar
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- SVG Background -->
  <div class="ubicacion-bg-svg">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" preserveAspectRatio="none">
      <path fill="rgba(139, 69, 19, 0.05)" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,154.7C960,171,1056,181,1152,165.3C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path>
    </svg>
  </div>
</section>

<script>
  import gsap from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  function initUbicacion() {
    gsap.registerPlugin(ScrollTrigger);

    const cards = gsap.utils.toArray('.info-card');
    const mapWrapper = document.querySelector('.map-wrapper');

    // Animaci贸n de las tarjetas de informaci贸n
    cards.forEach((card, index) => {
      gsap.from(card as Element, {
        y: 50,
        opacity: 0,
        duration: 0.8,
        delay: index * 0.1,
        scrollTrigger: {
          trigger: card as Element,
          start: 'top 80%',
          once: true,
        }
      });
    });

    // Animaci贸n del mapa
    if (mapWrapper) {
      gsap.from(mapWrapper, {
        scale: 0.9,
        opacity: 0,
        duration: 1,
        scrollTrigger: {
          trigger: mapWrapper,
          start: 'top 80%',
          once: true,
        }
      });
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initUbicacion);
  } else {
    initUbicacion();
  }

  document.addEventListener('astro:page-load', initUbicacion);
</script>
